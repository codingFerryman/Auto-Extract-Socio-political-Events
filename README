# set up environment on leonhard


easiest probably is to load a python version which has torch installed and is linked to GPUs

module load gcc/6.3.0 python_gpu/3.8.5

and then install the required libraries, e.g.

pip install --user transformers
pip install --user sklearn
pip install --user tqdm

otherwise, create your own anaconda repo and do something like this:

conda create -n transformer_environment python=3.7
conda activate transformer_environment

conda install pytorch torchvision torchaudio cudatoolkit=10.2 -c pytorch
pip install git+https://github.com/huggingface/transformers
pip install sentencepiece
pip install sklearn
pip install pandas


the command to run the code:

bsub -n 1 -R "rusage[mem=25600,ngpus_excl_p=1]" python transformer_models.py --train_file  $train_file --test_file $test_file --dest $dest --model $model --only_prediction "true"



